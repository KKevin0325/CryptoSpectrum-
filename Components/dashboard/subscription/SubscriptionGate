import React from 'react';
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Badge } from "@/components/ui/badge";
import { Lock, Crown, ArrowRight } from "lucide-react";
import { Link } from "react-router-dom";
import { createPageUrl } from "@/utils";

export default function SubscriptionGate({ 
  feature, 
  requiredPlan = "Pro",
  currentPlan = null,
  usageCount = 0,
  usageLimit = 0 
}) {
  const isLimitReached = usageCount >= usageLimit;
  const isPlanUpgradeNeeded = !currentPlan || (currentPlan === "Basic" && requiredPlan !== "Basic");

  if (!isLimitReached && !isPlanUpgradeNeeded) return null;

  return (
    <Card className="bg-gradient-to-br from-blue-50 to-cyan-50 border-blue-200 shadow-lg">
      <CardHeader className="text-center">
        <div className="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
          <Lock className="w-8 h-8 text-blue-600" />
        </div>
        <CardTitle className="text-xl text-slate-900">
          {isLimitReached ? 'Usage Limit Reached' : 'Premium Feature'}
        </CardTitle>
      </CardHeader>
      <CardContent className="text-center space-y-4">
        <p className="text-slate-600">
          {isLimitReached 
            ? `You've reached your monthly limit of ${usageLimit} ${feature}s. Upgrade to continue using this feature.`
            : `${feature} requires a ${requiredPlan} subscription or higher.`
          }
        </p>
        
        <div className="flex items-center justify-center gap-2">
          <Badge className="bg-blue-100 text-blue-700">
            <Crown className="w-3 h-3 mr-1" />
            {requiredPlan} Plan Required
          </Badge>
        </div>

        <Link to={createPageUrl("Subscription")}>
          <Button className="w-full bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700">
            <Crown className="w-4 h-4 mr-2" />
 
